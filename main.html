<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Draggable Cubes</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    background: #667eea;
  }
  h1 { color: white; margin-bottom: 10px; }
  .container {
    position: relative;
    width: 600px;
    height: 600px;
    background: #fff;
    border-radius: 15px;
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    padding: 15px;
  }
  .cube {
    width: 130px;
    height: 130px;
    background: linear-gradient(135deg,#667eea,#764ba2);
    color: white;
    font-size: 2em;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    cursor: grab;
    user-select: none;
    position: relative;
    transition: transform 0.2s;
  }
  .cube.dragging {
    cursor: grabbing;
    z-index: 1000;
    transform: scale(1.1);
    opacity: 0.9;
  }
</style>
</head>
<body>

<h1>ðŸŽ¯ Draggable Cubes</h1>
<div class="container" id="container">
  <!-- 16 cubes -->
  <div class="cube" data-id="1">1</div>
  <div class="cube" data-id="2">2</div>
  <div class="cube" data-id="3">3</div>
  <div class="cube" data-id="4">4</div>
  <div class="cube" data-id="5">5</div>
  <div class="cube" data-id="6">6</div>
  <div class="cube" data-id="7">7</div>
  <div class="cube" data-id="8">8</div>
  <div class="cube" data-id="9">9</div>
  <div class="cube" data-id="10">10</div>
  <div class="cube" data-id="11">11</div>
  <div class="cube" data-id="12">12</div>
  <div class="cube" data-id="13">13</div>
  <div class="cube" data-id="14">14</div>
  <div class="cube" data-id="15">15</div>
  <div class="cube" data-id="16">16</div>
</div>

<script>
const container = document.getElementById('container');
const cubes = document.querySelectorAll('.cube');

let activeCube = null;
let offsetX = 0;
let offsetY = 0;

cubes.forEach(cube => {
  cube.addEventListener('mousedown', (e) => {
    activeCube = cube;
    const rect = cube.getBoundingClientRect();
    const containerRect = container.getBoundingClientRect();

    offsetX = e.clientX - rect.left;
    offsetY = e.clientY - rect.top;

    cube.style.position = 'absolute';
    cube.style.left = rect.left - containerRect.left + 'px';
    cube.style.top = rect.top - containerRect.top + 'px';
    cube.style.width = rect.width + 'px';
    cube.style.height = rect.height + 'px';
    cube.classList.add('dragging');

    document.addEventListener('mousemove', drag);
    document.addEventListener('mouseup', drop);
  });
});

function drag(e) {
  if (!activeCube) return;
  const containerRect = container.getBoundingClientRect();
  const cubeRect = activeCube.getBoundingClientRect();

  let left = e.clientX - containerRect.left - offsetX;
  let top = e.clientY - containerRect.top - offsetY;

  // Boundary check
  left = Math.max(0, Math.min(left, containerRect.width - cubeRect.width));
  top = Math.max(0, Math.min(top, containerRect.height - cubeRect.height));

  activeCube.style.left = left + 'px';
  activeCube.style.top = top + 'px';
}

function drop() {
  if (!activeCube) return;
  activeCube.classList.remove('dragging');
  activeCube = null;
  document.removeEventListener('mousemove', drag);
  document.removeEventListener('mouseup', drop);
}
</script>

</body>
</html>
